## 可能的选型：

``` 
半桥驱动 L6388ED013TR (全N管 可耐600v）
NMOS WST02N20B (200v 1A)
单片机 esp32-c3（有蓝牙有wifi，便宜，不用usb转串口芯片可以直接编程）
``` 
---
## 可能的电路拓扑：
### 经典boost加全桥：
有手就行


### 单极boost全桥：
![top2](https://github.com/PinkiePie1/D9Lab-Shocker/blob/main/images/topology.png)
---
好处器件更少，坏处控制更复杂

R1两端为输出。

输出正压时 Q2Q3开，Q1给PWM信号（比如打进去六个40u的方波脉冲然后关闭，打进去的脉冲数对应强度），Q4关

输出0压时  Q1Q2关，Q3Q4开。

输出负压时 Q1Q4开，Q2给PWM信号，Q3关

D1D2同时承担续流二极管和保护管的职责。电感两端应额外背靠背并联TVS防止Q1Q2同时开路而电感上还有残余电流导致打坏管子。
若需监控电流可直接V1上串电阻，出来的信号喂给支持R2R的差分放大器再过个RC滤波就是平均电流了，超过一定值直接给单片机中断
平常可以输出0压给半桥驱动的自举电容充电。
